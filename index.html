<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>æ–°å¹´ç¥ç¦</title>
    <style>
        body {
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            font-family: "æ¥·ä½“", KaiTi, "åæ–‡æ¥·ä½“", STKaiti, serif;
        }

        .message {
            color: #ff6b6b;
            font-size: 2em;
            text-align: center;
            animation: fadeIn 3s ease-in;
            margin-top: 10vh;
            transition: opacity 0.5s ease;
        }

        .poem-line {
            opacity: 0;
            animation: fadeInUp 1s ease-out forwards;
            margin: 12px 0;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
            transition: all 0.5s ease;
            font-size: 1.2em;
            letter-spacing: 2px;
        }

        .poem-line:hover {
            transform: scale(1.05);
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.8);
        }

        .heart {
            display: block;
            margin: 25px 0;
            font-size: 2em;
            text-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
            animation: heartbeat 1.5s infinite ease-in-out;
            color: #ff4d4d;
            position: relative;
            width: 1em;
            margin-left: auto;
            margin-right: auto;
            transition: opacity 0.5s ease;
        }

        .heart::before,
        .heart::after {
            content: 'â¤';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.2;
            animation: heart-echo 1.5s infinite ease-out;
            pointer-events: none;
        }

        .heart::before {
            animation-delay: 0.2s;
        }

        .heart::after {
            animation-delay: 0.4s;
        }

        @keyframes heart-echo {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.2;
            }

            100% {
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 0;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes fall {
            from {
                transform: translateY(-10px) rotate(0deg);
            }

            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: rgba(255, 107, 107, 0.5);
            border-radius: 50%;
            pointer-events: none;
            animation: float 3s infinite ease-in-out;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) translateX(0);
            }

            50% {
                transform: translateY(-20px) translateX(10px);
            }
        }

        .message>div:last-child {
            margin-top: 20px;
            animation: glow 2s infinite alternate;
            font-weight: bold;
            opacity: 0.8;
            color: rgba(255, 77, 77, 0.9);
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 2px #fff, 0 0 4px #fff, 0 0 6px rgba(255, 77, 77, 0.7), 0 0 8px rgba(255, 77, 77, 0.5);
            }

            to {
                text-shadow: 0 0 3px #fff, 0 0 5px #fff, 0 0 7px rgba(255, 77, 77, 0.7), 0 0 9px rgba(255, 77, 77, 0.5);
            }
        }

        .mouse-trail {
            position: fixed;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: screen;
            background: radial-gradient(circle, #ff4d4d 0%, transparent 70%);
            animation: trail-fade 1s linear forwards;
        }

        @keyframes trail-fade {
            from {
                transform: scale(1);
                opacity: 1;
            }

            to {
                transform: scale(0);
                opacity: 0;
            }
        }

        .poem-line {
            position: relative;
            padding: 5px 15px;
        }

        .poem-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 107, 107, 0.1);
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.5s ease;
        }

        .poem-line:hover::before {
            transform: scaleX(1);
            transform-origin: left;
        }

        .firework {
            position: fixed;
            pointer-events: none;
            z-index: 999;
        }

        .firework-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: explode 1.5s ease-out forwards;
            box-shadow: 0 0 15px currentColor, 0 0 30px currentColor;
            filter: blur(0.5px);
        }

        @keyframes explode {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            50% {
                opacity: 1;
                transform: translateY(calc(var(--ty) * 0.5)) translateX(calc(var(--tx) * 0.5)) scale(1.2);
            }

            100% {
                transform: translateY(var(--ty)) translateX(var(--tx)) scale(0);
                opacity: 0;
            }
        }

        .floating-emoji {
            position: fixed;
            font-size: 30px;
            pointer-events: none;
            z-index: 100;
            animation: floatEmoji 4s linear forwards;
            opacity: 0.8;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
        }

        @keyframes floatEmoji {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0.8);
                opacity: 0;
            }

            10% {
                opacity: 0.8;
            }

            90% {
                opacity: 0.8;
            }

            100% {
                transform: translateY(-50px) rotate(360deg) scale(0.4);
                opacity: 0;
            }
        }


        .clock {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 1.8em;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 0 15px rgba(255, 107, 107, 0.7);
            font-family: "æ¥·ä½“", KaiTi, "åæ–‡æ¥·ä½“", STKaiti, serif;
            background: rgba(0, 0, 0, 0.6);
            padding: 15px 25px;
            border-radius: 25px;
            backdrop-filter: blur(8px);
            animation: fadeIn 1s ease-out;
            z-index: 1000;
        }

        .petal {
            position: fixed;
            pointer-events: none;
            z-index: 1;
            animation: falling 10s linear infinite;
            color: #ff69b4;
            opacity: 0.7;
            text-shadow: 0 0 5px rgba(255, 105, 180, 0.5);
        }

        @keyframes falling {
            0% {
                transform: translate(var(--startX), -10%) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.7;
            }

            100% {
                transform: translate(var(--endX), 110%) rotate(720deg);
                opacity: 0;
            }
        }

        .snake {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
        }

        .snake-segment {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #fff, var(--color));
            box-shadow: 0 0 20px var(--color);
            opacity: 0.9;
            will-change: transform;
            transform: translate(-50%, -50%);
        }


        .secret-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            color: #fff;
            text-shadow: 0 0 10px #ff0000;
            z-index: 10000;
            opacity: 0;
            transition: all 2s ease;
            font-family: "æ¥·ä½“", KaiTi, "åæ–‡æ¥·ä½“", STKaiti, serif;
        }

        .secret-message .heart {
            display: inline-block;
            animation: secretHeart 1.5s infinite;
            color: #ff4d4d;
            filter: drop-shadow(0 0 15px rgba(255, 0, 0, 0.8));
        }

        @keyframes secretHeart {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.3);
            }
        }

        // æ·»åŠ æ˜Ÿç©ºæ ·å¼
        .starry-sky {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle var(--duration) ease-in-out infinite;
            opacity: 0;
            filter: blur(0.5px);
            box-shadow: 0 0 4px #fff;
        }

        @keyframes twinkle {
            0%, 100% {
                opacity: 0.1;
                transform: scale(0.3);
                filter: brightness(0.5);
            }
            50% {
                opacity: var(--brightness);
                transform: scale(1.2);
                filter: brightness(1.5);
            }
        }

        // æ·»åŠ æµæ˜Ÿæ•ˆæœ
        .shooting-star {
            position: fixed;
            width: 6px;
            height: 6px;
            background: linear-gradient(to right, 
                rgba(255, 255, 255, 1) 0%,
                rgba(255, 255, 255, 0.9) 20%,
                rgba(255, 255, 255, 0.4) 60%,
                transparent 100%);
            transform-origin: left;
            opacity: 0;
            filter: blur(1.5px);
            box-shadow: 
                0 0 30px #fff,
                0 0 50px #fff,
                0 0 70px #fff;
            z-index: 1000;
        }

        @keyframes shoot {
            0% {
                opacity: 0;
                transform: translate(0, 0) rotate(var(--angle));
            }
            5% {
                opacity: 1;
            }
            95% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translate(var(--distance), var(--distance)) rotate(var(--angle));
            }
        }

        .firework-trail {
            position: fixed;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes riseUp {
            from {
                transform: translateY(0);
                opacity: 1;
            }

            to {
                transform: translateY(var(--height));
                opacity: 0;
            }
        }

        .countdown {
            position: fixed;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            text-align: center;
            font-family: "æ¥·ä½“", KaiTi, "åæ–‡æ¥·ä½“", STKaiti, serif;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.7);
        }

        .countdown-text {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .countdown-numbers {
            font-size: 3em;
        }

        .countdown-numbers span {
            display: inline-block;
            min-width: 70px;
            padding: 0 10px;
            margin: 0 5px;
            background: rgba(255, 107, 107, 0.2);
            border-radius: 10px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            font-size: 2em;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.7);
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .music-player:hover {
            transform: rotate(360deg);
        }

        .music-player.playing {
            color: #ff6b6b;
        }

        .music-player.paused {
            color: #fff;
        }

        .flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            opacity: 0;
            pointer-events: none;
            z-index: 9999;
            animation: flash 1s ease-in-out forwards;
        }

        @keyframes flash {
            0% {
                opacity: 0;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        .firework-spiral {
            position: fixed;
            pointer-events: none;
            z-index: 999;
        }

        .firework-spiral-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: spiral 2s linear infinite;
            box-shadow: 0 0 15px currentColor, 0 0 30px currentColor;
            filter: blur(0.5px);
        }

        @keyframes spiral {
            0% {
                transform: translateY(0) rotate(0deg);
            }

            100% {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        .firework-trail {
            position: fixed;
            pointer-events: none;
            z-index: -1;
        }

        .firework-trail-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: riseUp 3s linear infinite;
            box-shadow: 0 0 15px currentColor, 0 0 30px currentColor;
            filter: blur(0.5px);
        }

        @keyframes riseUp {
            from {
                transform: translateY(0);
                opacity: 1;
            }

            to {
                transform: translateY(var(--height));
                opacity: 0;
            }
        }

        .new-year-wish {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        .poem-line {
            margin: 12px 0;
            font-size: 1.2em;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
    </style>
</head>

<body>
    <audio id="bgMusic" loop>
        <source src="Martin Ermen - River Flows In You.mp3" type="audio/mpeg">
    </audio>
    <div class="particles"></div>
    <div class="clock"></div>
    <div class="countdown" style="display: none;">
        <div class="countdown-text">è·ç¦»2025å¹´è¿˜æœ‰</div>
        <div class="countdown-numbers">
            <span id="days">00</span>å¤©
            <span id="hours">00</span>æ—¶
            <span id="minutes">00</span>åˆ†
            <span id="seconds">00</span>ç§’
        </div>
    </div>
    <div class="message">
        <div class="poem">
            <div class="poem-line" style="animation-delay: 0.5s">å²åºæ›´æ›¿ å±±æ²³æ— æ™</div>
            <div class="poem-line" style="animation-delay: 1s">æ„¿ä½ çœ‰ç›®å¦‚ç”» å²æœˆèƒœèŠ±</div>
            <div class="poem-line" style="animation-delay: 1.5s">å‰ç¨‹ä¼¼é”¦ æ˜Ÿå…‰æ»¡è·¯</div>
            <div class="poem-line" style="animation-delay: 2s">æ‰€æ„¿çš†æˆ æ‰€å¿µçš†å¦‚</div>
            <div class="poem-line" style="animation-delay: 2.5s">æ–°å¹´èƒœæ„ æš–æš–ç›¸å›´</div>
        </div>
        <span class="heart">âœ¨</span>
        <div class="new-year-wish">
            <span style="font-size: 1.5em; margin-bottom: 10px;">æ–°å¹´å¿«ä¹</span>
            <div style="font-size: 0.8em; opacity: 0.9; margin-top: 10px;">æ„¿ä½ æ‰€æœ‰çš„æœŸå¾…éƒ½èƒ½æˆçœŸ</div>
        </div>
    </div>

    <script>
        // åœ¨è„šæœ¬å¼€å§‹å¤„æ·»åŠ å˜é‡å£°æ˜
        let autoFireworksTimeout;

        // æ·»åŠ é£˜è½çš„é›ªèŠ±æ•ˆæœ
        function createSnow() {
            const snow = document.createElement('div');
            snow.style.position = 'fixed';
            snow.style.top = '-10px';
            snow.style.left = Math.random() * window.innerWidth + 'px';
            snow.style.opacity = Math.random() * 0.8 + 0.2;
            snow.style.fontSize = Math.random() * 10 + 10 + 'px';
            snow.innerHTML = 'â„';
            snow.style.color = 'white';
            snow.style.zIndex = '-1';
            snow.style.pointerEvents = 'none';

            const duration = Math.random() * 3 + 2;
            snow.style.animation = `fall ${duration}s linear`;

            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), duration * 1000);
        }

        setInterval(createSnow, 500);

        // æ·»åŠ ç²’å­æ•ˆæœ
        function createParticles() {
            const container = document.querySelector('.particles');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';

                const size = Math.random() * 5 + 2;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';

                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 2 + 's';
                particle.style.opacity = Math.random() * 0.5;

                container.appendChild(particle);
            }
        }

        createParticles();

        // ä¿®æ”¹é¼ æ ‡è½¨è¿¹æ•ˆæœï¼Œå‡å°‘åˆ›å»ºçš„DOMå…ƒç´ 
        let lastTrailTime = 0;
        document.addEventListener('mousemove', function (e) {
            const now = Date.now();
            if (now - lastTrailTime < 50) return; // é™åˆ¶åˆ›å»ºé¢‘ç‡
            lastTrailTime = now;

            const trail = document.createElement('div');
            trail.className = 'mouse-trail';
            trail.style.left = e.pageX - 5 + 'px';
            trail.style.top = e.pageY - 5 + 'px';
            document.body.appendChild(trail);

            setTimeout(() => trail.remove(), 500); // å‡å°‘æŒç»­æ—¶é—´
        });

        // ä¸º"æ–°å¹´å¿«ä¹"æ·»åŠ å½©è™¹æ•ˆæœ
        document.querySelector('.message > div:last-child').classList.add('rainbow-text');

        // ä¿®æ”¹çƒŸèŠ±ç›¸å…³ä»£ç 
        function createFirework(x, y) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = x + 'px';
            firework.style.top = y + 'px';

            const particles = 50;  // å‡å°‘ç²’å­æ•°é‡
            const colors = [
                '#ff0000', // çº¢è‰²
                '#ffd700', // é‡‘è‰²
                '#ff69b4', // ç²‰çº¢
                '#ff4500', // æ©™çº¢è‰²
                '#ff8c00'  // æ·±æ©™è‰²
            ];

            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework-particle';

                const angle = (i / particles) * 360 + Math.random() * 20;
                const distance = Math.random() * 100 + 50;  // å‡å°‘æ‰©æ•£è·ç¦»
                const rad = angle * Math.PI / 180;

                const tx = Math.cos(rad) * distance;
                const ty = Math.sin(rad) * distance;

                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');

                const color = colors[Math.floor(Math.random() * colors.length)];
                particle.style.backgroundColor = color;
                particle.style.color = color;

                firework.appendChild(particle);
            }

            document.body.appendChild(firework);
            setTimeout(() => firework.remove(), 1000);  // å‡å°‘åŠ¨ç”»æ—¶é—´
        }

        // ä¼˜åŒ–è‡ªåŠ¨çƒŸèŠ±çš„é¢‘ç‡
        function autoFireworks() {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * (window.innerHeight * 0.6);
            createFirework(x, y);

            autoFireworksTimeout = setTimeout(autoFireworks, Math.random() * 1000 + 500);  // é™ä½é¢‘ç‡
        }

        // å¯åŠ¨è‡ªåŠ¨çƒŸèŠ±
        setTimeout(autoFireworks, 1000);

        // åœ¨ç°æœ‰è„šæœ¬åæ·»åŠ è¡¨æƒ…ç¬¦å·æ•ˆæœ
        const emojis = ['ğŸ‰', 'âœ¨', 'ğŸŒŸ', 'ğŸ’«', 'â­', 'ğŸŠ', 'ğŸˆ', 'ğŸ†', 'ğŸ‡', 'ğŸŒ¸', 'ğŸ’', 'ğŸ’–', 'ğŸ®', 'ğŸ‰', 'ğŸ€'];

        function createFloatingEmoji() {
            const emoji = document.createElement('div');
            emoji.className = 'floating-emoji';
            emoji.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];

            // éšæœºæ°´å¹³ä½ç½®
            emoji.style.left = Math.random() * window.innerWidth + 'px';
            // éšæœºå¤§å°
            emoji.style.fontSize = Math.random() * 20 + 25 + 'px';
            // éšæœºåŠ¨ç”»æ—¶é—´
            emoji.style.animationDuration = Math.random() * 2 + 3 + 's';

            document.body.appendChild(emoji);
            setTimeout(() => emoji.remove(), 5000);
        }

        // ä¿®æ”¹åˆ›å»ºé¢‘ç‡
        setInterval(createFloatingEmoji, 500);

        // æ·»åŠ æ—¶é’ŸåŠŸèƒ½
        function updateClock() {
            const clock = document.querySelector('.clock');
            const now = new Date();

            const options = {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            };

            clock.textContent = now.toLocaleString('zh-CN', options).replace(/\//g, '-');
            requestAnimationFrame(updateClock);
        }

        updateClock();

        // æ·»åŠ èŠ±ç“£æ•ˆæœ
        function createPetal() {
            const petals = ['ğŸŒ¸', 'ğŸŒº', 'ğŸŒ¹', 'ğŸ’®', 'ğŸµï¸'];
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.innerHTML = petals[Math.floor(Math.random() * petals.length)];

            const startX = Math.random() * window.innerWidth;
            const drift = (Math.random() - 0.5) * 200;
            petal.style.setProperty('--startX', startX + 'px');
            petal.style.setProperty('--endX', (startX + drift) + 'px');
            petal.style.left = startX + 'px';
            petal.style.fontSize = Math.random() * 15 + 15 + 'px';

            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 10000);
        }

        // å®šæœŸåˆ›å»ºèŠ±ç“£
        setInterval(createPetal, 500);

        // åœ¨è„šæœ¬éƒ¨åˆ†æ·»åŠ è›‡çš„é€»è¾‘
        function createSnake() {
            const snake = document.createElement('div');
            snake.className = 'snake';
            document.body.appendChild(snake);

            const segments = [];
            const segmentCount = 20;
            const colors = [
                '#ff3333', '#ff6633', '#ff9933', '#ffcc33',
                '#ffff33', '#99ff33', '#33ff33', '#33ff99',
                '#33ffff', '#3399ff', '#3333ff', '#9933ff'
            ];

            // åˆå§‹åŒ–åœ¨å±å¹•ä¸­å¤®
            const startX = window.innerWidth / 2;
            const startY = window.innerHeight / 2;

            // åˆ›å»ºè›‡çš„æ®µ
            for (let i = 0; i < segmentCount; i++) {
                const segment = document.createElement('div');
                segment.className = 'snake-segment';
                segment.style.setProperty('--color', colors[i % colors.length]);
                snake.appendChild(segment);

                segments.push({
                    element: segment,
                    x: startX,
                    y: startY
                });
            }

            let time = 0;

            function updateSnake() {
                time += 0.003;

                // è®¡ç®—ä¸­å¿ƒç‚¹
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;

                // ä½¿ç”¨å¤šä¸ªæ­£å¼¦æ³¢åˆ›é€ å¤æ‚çš„è½¨è¿¹
                const radius = Math.min(window.innerWidth, window.innerHeight) * 0.2;
                const t1 = time * 0.7;  // æ…¢é€Ÿæ—‹è½¬
                const t2 = time * 2;    // å¿«é€Ÿæ³¢åŠ¨
                const t3 = time * 0.3;  // è¶…æ…¢é€Ÿå˜åŒ–

                // ç»„åˆå¤šä¸ªè¿åŠ¨
                const x1 = Math.sin(t1) * radius * 0.8;
                const y1 = Math.cos(t1) * radius * 0.8;

                const x2 = Math.sin(t2) * radius * 0.3;
                const y2 = Math.cos(t2 * 1.5) * radius * 0.3;

                const x3 = Math.sin(t3) * radius * 0.2;
                const y3 = Math.cos(t3 * 2) * radius * 0.2;

                const targetX = centerX + x1 + x2 + x3;
                const targetY = centerY + y1 + y2 + y3;

                // æ›´æ–°è›‡çš„æ¯ä¸ªæ®µ
                segments.forEach((segment, index) => {
                    if (index === 0) {
                        // å¤´éƒ¨å¹³æ»‘è¿½è¸ª
                        const dx = targetX - segment.x;
                        const dy = targetY - segment.y;
                        segment.x += dx * 0.08;
                        segment.y += dy * 0.08;
                    } else {
                        const prevSegment = segments[index - 1];
                        const dx = prevSegment.x - segment.x;
                        const dy = prevSegment.y - segment.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        const idealDistance = 12;

                        // æ·»åŠ ä¸€äº›éšæœºæ‘†åŠ¨
                        const wiggle = Math.sin(time * 5 + index * 0.5) * 0.3;
                        const angle = Math.atan2(dy, dx) + wiggle;

                        // å¼¹æ€§è·Ÿéš
                        const speed = 0.15 + Math.sin(time * 2 + index * 0.2) * 0.05;
                        segment.x += dx * speed;
                        segment.y += dy * speed;
                    }

                    // æ›´æ–°è§†è§‰æ•ˆæœ
                    const scale = 1 - index * 0.02;
                    const breathe = 1 + Math.sin(time * 3 + index * 0.2) * 0.05; // æ·»åŠ å‘¼å¸æ•ˆæœ
                    segment.element.style.left = `${segment.x}px`;
                    segment.element.style.top = `${segment.y}px`;
                    segment.element.style.transform = `translate(-50%, -50%) scale(${scale * breathe})`;
                    segment.element.style.opacity = 1 - (index / segmentCount) * 0.3;
                });

                requestAnimationFrame(updateSnake);
            }

            updateSnake();
        }

        // åˆ›å»ºè›‡
        createSnake();

        // æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„é”®ç›˜ç»„åˆè§¦å‘å½©è›‹
        let konami = '';
        const konamiCode = 'ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightba';

        document.addEventListener('keydown', (e) => {
            konami += e.key;
            if (konami.length > konamiCode.length) {
                konami = konami.substr(konami.length - konamiCode.length);
            }

            if (konami === konamiCode) {
                // è§¦å‘å½©è›‹æ•ˆæœ
                activateSecretMode();
                konami = '';
            }
        });

        // ä¿®æ”¹å½©è›‹è§¦å‘å‡½æ•°
        function activateSecretMode() {
            // è·å–å…ƒç´ 
            const message = document.querySelector('.message');
            const messages = document.querySelectorAll('.poem-line');
            const heart = document.querySelector('.heart');

            // æ·¡å‡ºæ‰€æœ‰å…ƒç´ 
            message.style.opacity = '0';

            // ç­‰å¾…æ·¡å‡ºå®Œæˆåæ˜¾ç¤ºç§˜å¯†æ¶ˆæ¯
            setTimeout(() => {
                // åˆ›å»ºå¹¶æ˜¾ç¤ºç§˜å¯†æ¶ˆæ¯
                const secret = document.createElement('div');
                secret.className = 'secret-message';
                secret.style.position = 'fixed';
                secret.style.top = '50%';
                secret.style.left = '50%';
                secret.style.transform = 'translate(-50%, -50%) scale(0.8)';
                secret.style.fontSize = '3em';
                secret.style.color = '#fff';
                secret.style.textShadow = '0 0 10px rgba(255, 77, 77, 0.7)';
                secret.style.opacity = '0';
                secret.style.transition = 'all 1s ease';
                secret.style.zIndex = '10000';
                secret.style.textAlign = 'center';

                const text = document.createElement('div');
                text.innerHTML = 'æˆ‘å–œæ¬¢ä½  <br>';
                text.style.marginBottom = '20px';

                const subText = document.createElement('div');
                subText.textContent = '';
                subText.style.fontSize = '0.6em';
                subText.style.opacity = '0.8';
                subText.style.fontWeight = 'lighter';
                subText.style.letterSpacing = '3px';

                const heartIcon = document.createElement('span');
                heartIcon.className = 'secret-heart';
                heartIcon.textContent = 'â™¥';
                heartIcon.style.fontSize = '0.8em';
                heartIcon.style.margin = '0 10px';
                heartIcon.style.color = '#ffd700';
                heartIcon.style.textShadow = '0 0 15px rgba(255, 215, 0, 0.8)';

                secret.appendChild(text);
                secret.appendChild(subText);
                document.body.appendChild(secret);

                // æ˜¾ç¤ºç§˜å¯†æ¶ˆæ¯å’Œç‰¹æ•ˆ
                requestAnimationFrame(() => {
                    secret.style.opacity = '1';
                    secret.style.transform = 'translate(-50%, -50%) scale(1)';

                    // å¢åŠ çƒŸèŠ±æ•°é‡å’ŒæŒç»­æ—¶é—´
                    const burstCount = 30; // ä»20å¢åŠ åˆ°30
                    for (let i = 0; i < burstCount; i++) {
                        setTimeout(() => {
                            // éšæœºä½ç½®åç§»
                            const angle = (i / burstCount) * Math.PI * 2;
                            const baseDistance = Math.min(window.innerWidth, window.innerHeight) * 0.3;
                            const randomOffset = Math.random() * 100 - 50; // æ·»åŠ éšæœºåç§»
                            const distance = baseDistance + randomOffset;

                            const x = window.innerWidth / 2 + Math.cos(angle) * distance;
                            const y = window.innerHeight / 2 + Math.sin(angle) * distance;

                            // æ¯ä¸ªä½ç½®åˆ›å»ºå¤šä¸ªçƒŸèŠ±
                            const burstSize = Math.random() > 0.7 ? 2 : 1; // 30%æ¦‚ç‡åˆ›å»ºåŒé‡çƒŸèŠ±
                            for (let j = 0; j < burstSize; j++) {
                                setTimeout(() => {
                                    createStarBurst(
                                        x + (Math.random() * 40 - 20),
                                        y + (Math.random() * 40 - 20)
                                    );
                                }, j * 100);
                            }
                        }, i * 100); // ç¼©çŸ­é—´éš”ä»120msåˆ°100ms
                    }

                    // å¢åŠ æ¼‚æµ®æ˜Ÿæ˜Ÿæ•°é‡
                    for (let i = 0; i < 50; i++) { // ä»40å¢åŠ åˆ°50
                        setTimeout(() => createFloatingStar(), i * 50); // ç¼©çŸ­é—´éš”ä»60msåˆ°50ms
                    }
                });

                // 4ç§’åæ·¡å‡ºç§˜å¯†æ¶ˆæ¯å¹¶æ¢å¤åŸå§‹å†…å®¹
                setTimeout(() => {
                    secret.style.opacity = '0';
                    secret.style.transform = 'translate(-50%, -50%) scale(0.8)';

                    setTimeout(() => {
                        secret.remove();
                        message.style.opacity = '1';
                    }, 1000);
                }, 6000);
            }, 500);
        }

        // ä¿®æ”¹æ˜Ÿæ˜Ÿçˆ†å‘ç‰¹æ•ˆ
        function createStarBurst(x, y) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = x + 'px';
            firework.style.top = y + 'px';

            // å‡å°‘ç²’å­æ•°é‡ï¼Œä½†å¢åŠ å¤§å°å’Œäº®åº¦ä¿æŒè§†è§‰æ•ˆæœ
            const particles = 16; // ä»32å‡å°‘åˆ°16
            const colors = ['#ffd700', '#ff6b6b', '#4ecdc4', '#ff1493'];  // å‡å°‘é¢œè‰²æ•°é‡

            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework-particle';
                particle.innerHTML = 'â™¥';
                particle.style.fontSize = Math.random() * 20 + 15 + 'px'; // å¢å¤§å°ºå¯¸

                const angle = (i / particles) * Math.PI * 2;
                const distance = Math.random() * 80 + 40;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;

                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                particle.style.color = colors[i % colors.length];

                firework.appendChild(particle);
            }

            document.body.appendChild(firework);
            setTimeout(() => firework.remove(), 1500);
        }

        // æ·»åŠ æ¼‚æµ®çš„æ˜Ÿæ˜Ÿæ•ˆæœ
        function createFloatingStar() {
            const star = document.createElement('div');
            star.className = 'floating-heart'; // å¤ç”¨ç°æœ‰çš„åŠ¨ç”»ç±»
            star.innerHTML = 'â™¥';
            star.style.position = 'fixed';
            star.style.left = Math.random() * window.innerWidth + 'px';
            star.style.top = window.innerHeight + 'px';
            star.style.color = `hsl(${Math.random() * 30 + 45}, 100%, 70%)`; // é‡‘é»„è‰²ç³»
            star.style.fontSize = Math.random() * 15 + 15 + 'px';
            star.style.animation = `floatUp ${Math.random() * 2 + 3}s ease-out forwards`;
            star.style.textShadow = '0 0 10px rgba(255, 215, 0, 0.8)';

            document.body.appendChild(star);
            setTimeout(() => star.remove(), 5000);
        }

        // åˆ›å»ºæ˜Ÿç©ºæ•ˆæœ
        function createStarrySky() {
            const sky = document.createElement('div');
            sky.className = 'starry-sky';
            document.body.appendChild(sky);

            // å¢åŠ æ˜Ÿæ˜Ÿæ•°é‡å’Œå¤šæ ·æ€§
            for (let i = 0; i < 300; i++) { // ä»200å¢åŠ åˆ°300
                const star = document.createElement('div');
                star.className = 'star';

                // éšæœºå¤§å°å’Œä½ç½®
                const size = Math.random() * 3 + 1; // å¢åŠ æ˜Ÿæ˜Ÿæœ€å¤§å°ºå¯¸
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';

                // éšæœºé¢œè‰²
                const hue = Math.random() * 60 - 30 + 60; // é»„è‰²ç³»
                const saturation = Math.random() * 30 + 70; // 70-100%
                const lightness = Math.random() * 30 + 70; // 70-100%
                star.style.backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
                star.style.boxShadow = `0 0 ${size * 2}px hsl(${hue}, ${saturation}%, ${lightness}%)`;

                // éšæœºåŠ¨ç”»å‚æ•°
                star.style.setProperty('--duration', Math.random() * 4 + 2 + 's');
                star.style.setProperty('--brightness', Math.random() * 0.7 + 0.3);
                star.style.animationDelay = Math.random() * 4 + 's';

                sky.appendChild(star);
            }

            // å¢åŠ æµæ˜Ÿé¢‘ç‡å’Œæ•ˆæœ
            setInterval(() => {
                if (Math.random() > 0.3) { // å¢åŠ å‡ºç°æ¦‚ç‡åˆ°70%
                    const shootingStar = document.createElement('div');
                    shootingStar.className = 'shooting-star';

                    // è®¾ç½®æµæ˜Ÿå‚æ•°
                    const angle = Math.random() * 20 - 45; // -45åˆ°-25åº¦ä¹‹é—´
                    const distance = Math.random() * 1000 + 800; // å¢åŠ æµæ˜Ÿåˆ’è¿‡çš„è·ç¦»
                    const duration = Math.random() * 0.6 + 0.4; // åŠ å¿«é€Ÿåº¦
                    const length = Math.random() * 300 + 200; // å¢åŠ æµæ˜Ÿé•¿åº¦
                    
                    // éšæœºèµ·å§‹ä½ç½®ï¼Œä½†ä¿è¯ä»å±å¹•ä¸Šæ–¹å¼€å§‹
                    const startX = Math.random() * (window.innerWidth + 500) - 200;
                    const startY = -50; // ä»æ›´é«˜çš„ä½ç½®å¼€å§‹

                    shootingStar.style.left = startX + 'px';
                    shootingStar.style.top = startY + 'px';
                    shootingStar.style.setProperty('--angle', angle + 'deg');
                    shootingStar.style.setProperty('--distance', distance + 'px');
                    shootingStar.style.setProperty('--duration', duration + 's');
                    shootingStar.style.setProperty('--length', length + 'px');

                    document.body.appendChild(shootingStar);
                    setTimeout(() => shootingStar.remove(), duration * 1000);
                }
            }, 500); // æ›´é¢‘ç¹çš„æµæ˜Ÿ
        }

        // åˆ›å»ºæ˜Ÿç©º
        createStarrySky();

        // æ·»åŠ æŒç»­çš„èƒŒæ™¯çƒŸèŠ±æ•ˆæœ
        function createBackgroundFireworks() {
            // å‡å°‘åˆ›å»ºé¢‘ç‡
            setTimeout(createBackgroundFireworks, Math.random() * 1000 + 800); // å¢åŠ é—´éš”

            // éšæœºå†³å®šæ˜¯å¦åˆ›å»ºï¼Œæ§åˆ¶å¯†åº¦
            if (Math.random() > 0.7) return;

            const x = Math.random() * window.innerWidth;
            const y = Math.random() * (window.innerHeight * 0.7);
            createBackgroundBurst(x, y);
        }

        // èƒŒæ™¯çƒŸèŠ±çˆ†ç‚¸æ•ˆæœ
        function createBackgroundBurst(x, y) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = x + 'px';
            firework.style.top = y + 'px';
            firework.style.zIndex = '-1'; // ç¡®ä¿åœ¨èƒŒæ™¯å±‚

            const colors = [
                '#ffd700', '#ff6b6b', '#4ecdc4', '#45b7d1',
                '#96f7d2', '#f7d794', '#f8a5c2', '#778beb'
            ];

            const particles = 20;
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework-particle';

                // éšæœºä½¿ç”¨ä¸åŒçš„å½¢çŠ¶
                const shapes = ['âœ¦', 'âœ¬', 'â­', 'âœ¶', 'â—'];
                particle.innerHTML = shapes[Math.floor(Math.random() * shapes.length)];
                particle.style.fontSize = Math.random() * 8 + 6 + 'px'; // èƒŒæ™¯çƒŸèŠ±ç¨å°

                const angle = (i / particles) * Math.PI * 2;
                const distance = Math.random() * 60 + 30; // çˆ†ç‚¸èŒƒå›´ç¨å°
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;

                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                particle.style.color = colors[Math.floor(Math.random() * colors.length)];
                particle.style.opacity = '0.6'; // é™ä½èƒŒæ™¯çƒŸèŠ±çš„ä¸é€æ˜åº¦

                firework.appendChild(particle);
            }

            document.body.appendChild(firework);
            setTimeout(() => firework.remove(), 1500);
        }

        // åœ¨é¡µé¢åŠ è½½æ—¶å¯åŠ¨èƒŒæ™¯çƒŸèŠ±
        window.addEventListener('load', () => {
            // å°è¯•è‡ªåŠ¨æ’­æ”¾
            bgMusic.play().catch(() => {
                console.log('ç­‰å¾…ç”¨æˆ·äº¤äº’åæ’­æ”¾éŸ³ä¹...');
            });

            // å¦‚æœè‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œç›‘å¬ä»»æ„ç‚¹å‡»äº‹ä»¶æ¥æ’­æ”¾
            document.addEventListener('click', function playOnFirstClick() {
                bgMusic.play();
                document.removeEventListener('click', playOnFirstClick);
            }, { once: true });

            // å…¶ä»–åˆå§‹åŒ–ä»£ç ...
            const now = new Date();
            if (now >= targetDate) {
                countdown.style.display = 'none';
                message.style.display = 'block';
                createBackgroundFireworks();
            } else {
                message.style.display = 'none';
                countdown.style.display = 'block';
                updateCountdown();
            }
        });

        // è·å–éŸ³é¢‘å…ƒç´ 
        const bgMusic = document.getElementById('bgMusic');

        // è®¾ç½®éŸ³é‡
        bgMusic.volume = 0.3; // éŸ³é‡è®¾ä¸º 30%

        // æ·»åŠ éŸ³ä¹æ§åˆ¶æŒ‰é’®
        const musicBtn = document.createElement('div');
        musicBtn.className = 'music-control';
        musicBtn.innerHTML = 'ğŸµ';
        musicBtn.style.position = 'fixed';
        musicBtn.style.top = '20px';
        musicBtn.style.left = '20px';
        musicBtn.style.fontSize = '24px';
        musicBtn.style.color = '#fff';
        musicBtn.style.cursor = 'pointer';
        musicBtn.style.zIndex = '1000';
        musicBtn.style.textShadow = '0 0 10px rgba(255, 255, 255, 0.8)';
        musicBtn.style.transition = 'transform 0.3s ease';

        // æ·»åŠ åŠ¨ç”»æ ·å¼
        const style = document.createElement('style');
        style.textContent = `
            .music-control {
                animation: rotate 3s linear infinite;
            }
            .music-control.paused {
                animation-play-state: paused;
                opacity: 0.6;
            }
            @keyframes rotate {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);

        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
        musicBtn.addEventListener('click', () => {
            if (bgMusic.paused) {
                bgMusic.play();
                musicBtn.classList.remove('paused');
            } else {
                bgMusic.pause();
                musicBtn.classList.add('paused');
            }
        });

        document.body.appendChild(musicBtn);

        // è·å–å…ƒç´ 
        const message = document.querySelector('.message');
        const countdown = document.querySelector('.countdown');

        // è®¾ç½®ç›®æ ‡æ—¶é—´
        const targetDate = new Date('2025-01-01T00:00:00');

        // æ›´æ–°å€’è®¡æ—¶
        function updateCountdown() {
            try {
                const now = new Date();
                const diff = targetDate - now;

                if (isNaN(diff)) {
                    console.error('Invalid date calculation');
                    return;
                }

                if (diff <= 0) {
                    // åˆ›å»ºä¸€ä¸ªé—ªå…‰æ•ˆæœ
                    const flash = document.createElement('div');
                    flash.style.position = 'fixed';
                    flash.style.top = '0';
                    flash.style.left = '0';
                    flash.style.width = '100%';
                    flash.style.height = '100%';
                    flash.style.backgroundColor = 'white';
                    flash.style.opacity = '0';
                    flash.style.zIndex = '9999';
                    flash.style.transition = 'opacity 0.5s ease-out';
                    document.body.appendChild(flash);

                    // è§¦å‘é—ªå…‰
                    requestAnimationFrame(() => {
                        flash.style.opacity = '0.8';
                        setTimeout(() => {
                            flash.style.opacity = '0';
                            setTimeout(() => flash.remove(), 500);
                        }, 100);
                    });

                    // éšè—å€’è®¡æ—¶
                    countdown.style.opacity = '0';
                    countdown.style.transform = 'scale(1.5)';
                    countdown.style.transition = 'all 0.5s ease-out';

                    // å»¶è¿Ÿæ˜¾ç¤ºç¥ç¦å†…å®¹
                    setTimeout(() => {
                        countdown.style.display = 'none';
                        message.style.display = 'block';
                        message.style.opacity = '0';
                        message.style.transform = 'scale(0.8)';

                        requestAnimationFrame(() => {
                            message.style.opacity = '1';
                            message.style.transform = 'scale(1)';
                            message.style.transition = 'all 1s ease-out';
                        });

                        // å¼€å§‹æ’­æ”¾éŸ³ä¹
                        bgMusic.play().catch(() => { });

                        // å‡å°‘åˆå§‹çƒŸèŠ±æ•°é‡ä½†å¢åŠ å¤§å°
                        const burstCount = 30; // ä»50å‡å°‘åˆ°30
                        for (let i = 0; i < burstCount; i++) {
                            setTimeout(() => {
                                const x = Math.random() * window.innerWidth;
                                const y = Math.random() * window.innerHeight * 0.8;
                                createStarBurst(x, y);

                                // åªåœ¨å…³é”®ä½ç½®åˆ›å»ºå¤šé‡çƒŸèŠ±
                                if (i % 5 === 0) {
                                    setTimeout(() => {
                                        createStarBurst(
                                            x + (Math.random() * 60 - 30),
                                            y + (Math.random() * 60 - 30)
                                        );
                                    }, 100);
                                }
                            }, i * 120);
                        }

                        createSpiralFireworks();
                        createBackgroundFireworks();
                    }, 600);

                    return;
                }

                // è®¡ç®—å‰©ä½™æ—¶é—´
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                // æ›´æ–°æ˜¾ç¤º
                document.getElementById('days').textContent = String(days).padStart(2, '0');
                document.getElementById('hours').textContent = String(hours).padStart(2, '0');
                document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
                document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');

                // ç»§ç»­å€’è®¡æ—¶
                requestAnimationFrame(updateCountdown);
            } catch (error) {
                console.error('Error in countdown:', error);
                // å‘ç”Ÿé”™è¯¯æ—¶æ˜¾ç¤ºç¥ç¦å†…å®¹ä½œä¸ºåå¤‡æ–¹æ¡ˆ
                countdown.style.display = 'none';
                message.style.display = 'block';
            }
        }

        // æ·»åŠ èºæ—‹çƒŸèŠ±æ•ˆæœ
        function createSpiralFireworks() {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            const rounds = 2; // å‡å°‘åœˆæ•°
            const particlesPerRound = 15; // å‡å°‘æ¯åœˆç²’å­æ•°
            const radius = Math.min(window.innerWidth, window.innerHeight) * 0.3;

            for (let round = 0; round < rounds; round++) {
                for (let i = 0; i < particlesPerRound; i++) {
                    const angle = (i / particlesPerRound) * Math.PI * 2;
                    const delay = (round * particlesPerRound + i) * 60;
                    const currentRadius = radius * (1 - round * 0.2);

                    setTimeout(() => {
                        const x = centerX + Math.cos(angle) * currentRadius;
                        const y = centerY + Math.sin(angle) * currentRadius;
                        createStarBurst(x, y);
                    }, delay);
                }
            }
        }

        // æ·»åŠ é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆå’Œäº¤äº’åŠŸèƒ½
        function addInteractiveFeatures() {
            // 1. ç‚¹å‡»åˆ›å»ºçƒŸèŠ±æ•ˆæœ
            document.addEventListener('click', (e) => {
                if (e.target.tagName !== 'BUTTON') { // ä¸æ˜¯æŒ‰é’®æ—¶æ‰è§¦å‘
                    createStarBurst(e.clientX, e.clientY);
                }
            });

            // 2. æ·»åŠ äº¤äº’æŒ‰é’®ç»„
            const buttonContainer = document.createElement('div');
            buttonContainer.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                display: flex;
                gap: 10px;
                z-index: 1000;
                flex-wrap: wrap;
                max-width: 80vw;
            `;

            // åˆ›å»ºæŒ‰é’®æ ·å¼
            const buttonStyle = `
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: white;
                padding: 8px 15px;
                border-radius: 20px;
                cursor: pointer;
                font-family: "æ¥·ä½“";
                backdrop-filter: blur(5px);
                transition: all 0.3s ease;
                font-size: 14px;
                text-shadow: 0 0 10px rgba(255, 107, 107, 0.7);
            `;

            // æ·»åŠ æŒ‰é’®
            const buttons = [
                {
                    text: 'âœ¨ æµæ˜Ÿé›¨',
                    onClick: createMeteorShower
                },
                {
                    text: 'ğŸ† çƒŸèŠ±ç§€',
                    onClick: createFireworkShow
                },
                {
                    text: 'ğŸ’« æ˜Ÿå…‰é—ªçƒ',
                    onClick: twinkleStars
                },
                {
                    text: 'ğŸŒˆ å½©è™¹ç‰¹æ•ˆ',
                    onClick: createRainbowEffect
                },
                {
                    text: 'ğŸ¨ å˜è‰²æ¨¡å¼',
                    onClick: toggleColorMode
                },
                {
                    text: 'ğŸ¯ æ‰“é¶æ¸¸æˆ',
                    onClick: startTargetGame
                }
            ];

            buttons.forEach(btn => {
                const button = document.createElement('button');
                button.innerHTML = btn.text;
                button.style.cssText = buttonStyle;
                button.addEventListener('mouseover', () => {
                    button.style.transform = 'scale(1.1)';
                    button.style.background = 'rgba(255, 255, 255, 0.2)';
                });
                button.addEventListener('mouseout', () => {
                    button.style.transform = 'scale(1)';
                    button.style.background = 'rgba(255, 255, 255, 0.1)';
                });
                button.addEventListener('click', btn.onClick);
                buttonContainer.appendChild(button);
            });

            document.body.appendChild(buttonContainer);
        }

        // æµæ˜Ÿé›¨æ•ˆæœ
        function createMeteorShower() {
            const count = 50; // ä»30å¢åŠ åˆ°50
            let created = 0;
            
            // æ¸…é™¤ä¹‹å‰çš„æµæ˜Ÿ
            document.querySelectorAll('.shooting-star').forEach(star => star.remove());
            
            const interval = setInterval(() => {
                if (created >= count) {
                    clearInterval(interval);
                    return;
                }

                // åŒæ—¶åˆ›å»ºå¤šä¸ªæµæ˜Ÿ
                const createCount = Math.random() > 0.7 ? 2 : 1; // 30%æ¦‚ç‡åŒæ—¶åˆ›å»º2ä¸ª
                for(let i = 0; i < createCount; i++) {
                    if (created >= count) break;

                    const shootingStar = document.createElement('div');
                    shootingStar.className = 'shooting-star';
                    
                    const startX = Math.random() * (window.innerWidth + 300) - 150;
                    const startY = -100;
                    
                    const angle = Math.random() * 30 - 45;
                    const distance = Math.random() * 1000 + 600; // å¢åŠ åˆ’è¿‡è·ç¦»
                    const duration = Math.random() * 1.2 + 0.8;
                    
                    shootingStar.style.cssText = `
                        left: ${startX}px;
                        top: ${startY}px;
                        position: fixed;
                        width: 6px;
                        height: 6px;
                        opacity: 0;
                        z-index: 1000;
                        background: linear-gradient(to right, 
                            rgba(255, 255, 255, 1) 0%,
                            rgba(255, 255, 255, 0.9) 20%,
                            rgba(255, 255, 255, 0.4) 60%,
                            transparent 100%);
                        box-shadow: 
                            0 0 30px #fff,
                            0 0 50px #fff,
                            0 0 70px #fff;
                        transform-origin: left;
                    `;
                    
                    shootingStar.style.setProperty('--angle', angle + 'deg');
                    shootingStar.style.setProperty('--distance', distance + 'px');
                    
                    document.body.appendChild(shootingStar);
                    
                    requestAnimationFrame(() => {
                        shootingStar.style.animation = `shoot ${duration}s linear forwards`;
                    });
                    
                    setTimeout(() => shootingStar.remove(), duration * 1000 + 100);
                    created++;
                }
            }, 100); // ç¼©çŸ­é—´éš”ä»150msåˆ°100ms
        }

        // çƒŸèŠ±ç§€æ•ˆæœ
        function createFireworkShow() {
            const duration = 3000; // æŒç»­3ç§’
            const interval = setInterval(() => {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * (window.innerHeight * 0.6);
                createStarBurst(x, y);
            }, 200);

            setTimeout(() => clearInterval(interval), duration);
        }

        // æ˜Ÿå…‰é—ªçƒæ•ˆæœ
        function twinkleStars() {
            const stars = document.querySelectorAll('.star');
            stars.forEach(star => {
                // éšæœºå¤§å°
                const size = Math.random() * 4 + 2;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                
                // éšæœºé¢œè‰²
                const colors = ['#fff', '#ffd700', '#ffb6c1', '#87ceeb'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                star.style.background = color;
                star.style.boxShadow = `0 0 ${size * 2}px ${color}`;
                
                // é‡ç½®åŠ¨ç”»
                star.style.animation = 'none';
                star.offsetHeight;
                
                // è®¾ç½®æ–°çš„åŠ¨ç”»å‚æ•°
                const duration = Math.random() * 3 + 2;
                star.style.animation = `twinkle ${duration}s ease-in-out infinite`;
                star.style.setProperty('--brightness', Math.random() * 0.5 + 0.5);
                
                // æ·»åŠ é—ªçƒæ•ˆæœ
                star.style.transition = 'all 0.3s ease';
            });
        }

        // åˆå§‹åŒ–äº¤äº’åŠŸèƒ½
        addInteractiveFeatures();

        // æ·»åŠ æ›´å¤šäº¤äº’æŒ‰é’®å’Œæ•ˆæœ
        const additionalButtons = [
            {
                text: 'ğŸŒˆ å½©è™¹ç‰¹æ•ˆ',
                onClick: createRainbowEffect
            },
            {
                text: 'ğŸ¨ å˜è‰²æ¨¡å¼',
                onClick: toggleColorMode
            },
            {
                text: 'ğŸ¯ æ‰“é¶æ¸¸æˆ',
                onClick: startTargetGame
            }
        ];

        // å½©è™¹ç‰¹æ•ˆ
        function createRainbowEffect() {
            const rainbow = document.createElement('div');
            rainbow.style.cssText = `
                position: fixed;
                width: 200vw;
                height: 200vh;
                left: 50%;
                bottom: -50vh;
                transform: translateX(-50%);
                background: radial-gradient(ellipse at 50% 100%,
                    transparent 40%,
                    rgba(255,0,0,0.2) 41%, rgba(255,0,0,0.2) 43%,
                    rgba(255,165,0,0.2) 44%, rgba(255,165,0,0.2) 46%,
                    rgba(255,255,0,0.2) 47%, rgba(255,255,0,0.2) 49%,
                    rgba(0,255,0,0.2) 50%, rgba(0,255,0,0.2) 52%,
                    rgba(0,255,255,0.2) 53%, rgba(0,255,255,0.2) 55%,
                    rgba(0,0,255,0.2) 56%, rgba(0,0,255,0.2) 58%,
                    rgba(238,130,238,0.2) 59%, rgba(238,130,238,0.2) 61%,
                    transparent 62%);
                filter: blur(5px);
                opacity: 0;
                transition: opacity 1s ease;
                pointer-events: none;
                z-index: -1;
            `;
            document.body.appendChild(rainbow);
            requestAnimationFrame(() => rainbow.style.opacity = '1');
            setTimeout(() => {
                rainbow.style.opacity = '0';
                setTimeout(() => rainbow.remove(), 1000);
            }, 5000);
        }

        // ä¿®æ”¹å˜è‰²æ¨¡å¼æ•ˆæœ
        function toggleColorMode() {
            const colors = [
                '#ff6b6b', // ç²‰çº¢è‰²
                '#ffd700', // é‡‘è‰²
                '#4ecdc4', // é’è‰²
                '#45b7d1', // è“è‰²
                '#ff69b4', // ç²‰è‰²
                '#9b59b6'  // ç´«è‰²
            ];
            let currentIndex = 0;
            const elements = document.querySelectorAll('.poem-line, .heart');
            
            // å¢åŠ é¢œè‰²å˜åŒ–çš„åŠ¨ç”»æ•ˆæœ
            elements.forEach(el => {
                el.style.transition = 'color 0.5s ease, text-shadow 0.5s ease';
            });
            
            // æ›´å¿«çš„é¢œè‰²åˆ‡æ¢é€Ÿåº¦
            const interval = setInterval(() => {
                elements.forEach(el => {
                    el.style.color = colors[currentIndex];
                    // å¢å¼ºå…‰æ™•æ•ˆæœ
                    el.style.textShadow = `
                        0 0 10px ${colors[currentIndex]},
                        0 0 20px ${colors[currentIndex]},
                        0 0 30px ${colors[currentIndex]}
                    `;
                });
                
                // æ·»åŠ ç¼©æ”¾åŠ¨ç”»
                elements.forEach(el => {
                    el.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        el.style.transform = 'scale(1)';
                    }, 250);
                });
                
                currentIndex = (currentIndex + 1) % colors.length;
            }, 500); // åŠ å¿«åˆ‡æ¢é€Ÿåº¦
            
            // æŒç»­æ—¶é—´å»¶é•¿åˆ°15ç§’
            setTimeout(() => {
                clearInterval(interval);
                // æ¢å¤åŸå§‹æ ·å¼
                elements.forEach(el => {
                    el.style.color = '';
                    el.style.textShadow = '';
                    el.style.transform = '';
                    el.style.transition = '';
                });
            }, 15000);
        }

        // ä¿®æ”¹æ‰“é¶æ¸¸æˆ
        function startTargetGame() {
            // æ£€æŸ¥æ˜¯å¦å·²ç»æœ‰æ¸¸æˆåœ¨è¿›è¡Œ
            if (document.querySelector('.score-board')) {
                return; // å¦‚æœå·²æœ‰æ¸¸æˆåœ¨è¿›è¡Œï¼Œç›´æ¥è¿”å›
            }

            let score = 0;
            let targets = 0;
            const maxTargets = 10;
            let gameEnded = false; // æ·»åŠ æ¸¸æˆç»“æŸæ ‡å¿—
            
            // åˆ›å»ºè®¡åˆ†æ¿
            const scoreBoard = document.createElement('div');
            scoreBoard.className = 'score-board'; // æ·»åŠ ç±»åä»¥ä¾¿æ£€æŸ¥
            scoreBoard.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                color: white;
                font-size: 24px;
                text-shadow: 0 0 10px rgba(255,255,255,0.5);
                z-index: 1000;
            `;
            scoreBoard.textContent = `å¾—åˆ†: ${score}/${maxTargets}`;
            document.body.appendChild(scoreBoard);
            
            function createTarget() {
                if (gameEnded) return; // å¦‚æœæ¸¸æˆå·²ç»“æŸï¼Œä¸å†åˆ›å»ºæ–°ç›®æ ‡
                
                if (targets >= maxTargets) {
                    if (!gameEnded) { // åªåœ¨ç¬¬ä¸€æ¬¡è¾¾åˆ°ç›®æ ‡æ•°æ—¶æ˜¾ç¤ºæç¤º
                        gameEnded = true;
                        setTimeout(() => {
                            alert(`æ¸¸æˆç»“æŸï¼\næœ€ç»ˆå¾—åˆ†: ${score}/${maxTargets}`);
                            scoreBoard.remove();
                        }, 500);
                    }
                    return;
                }
                
                const target = document.createElement('div');
                const size = Math.random() * 30 + 20;
                const x = Math.random() * (window.innerWidth - size);
                const y = Math.random() * (window.innerHeight - size);
                
                target.style.cssText = `
                    position: fixed;
                    left: ${x}px;
                    top: ${y}px;
                    width: ${size}px;
                    height: ${size}px;
                    background: radial-gradient(circle, #fff 0%, #ff6b6b 50%, transparent 70%);
                    border-radius: 50%;
                    cursor: pointer;
                    opacity: 0;
                    transition: all 0.3s ease;
                    z-index: 1000;
                `;
                
                document.body.appendChild(target);
                requestAnimationFrame(() => target.style.opacity = '1');
                
                target.onclick = () => {
                    if (gameEnded) return; // å¦‚æœæ¸¸æˆå·²ç»“æŸï¼Œä¸å†å“åº”ç‚¹å‡»
                    score++;
                    scoreBoard.textContent = `å¾—åˆ†: ${score}/${maxTargets}`;
                    createStarBurst(x + size/2, y + size/2);
                    target.remove();
                    setTimeout(createTarget, 500);
                };
                
                // ç›®æ ‡æ¶ˆå¤±å‰æ£€æŸ¥æ¸¸æˆæ˜¯å¦ç»“æŸ
                setTimeout(() => {
                    if (!gameEnded && target.parentNode) {
                        target.style.opacity = '0';
                        setTimeout(() => {
                            if (target.parentNode) target.remove();
                            if (!gameEnded) setTimeout(createTarget, 500);
                        }, 300);
                    }
                }, 2000);
                
                targets++;
            }
            
            createTarget();
        }

        // å°†æ–°æŒ‰é’®æ·»åŠ åˆ°ç°æœ‰æŒ‰é’®ç»„
        buttons.push(...additionalButtons);

        // ä¿®æ”¹è›‡çš„è¿åŠ¨æ•ˆæœ
        function createSnakeTrail(e) {
            const snake = document.createElement('div');
            snake.className = 'snake';
            document.body.appendChild(snake);

            const segments = [];
            const segmentCount = 20;
            const colors = ['#ff6b6b', '#ff4757', '#ff3f34'];
            const baseSize = 15;

            // åˆ›å»ºè›‡çš„æ‰€æœ‰èŠ‚æ®µ
            for (let i = 0; i < segmentCount; i++) {
                const segment = document.createElement('div');
                segment.className = 'snake-segment';
                
                // è®¾ç½®æ¸å˜å¤§å°å’Œé¢œè‰²
                const size = baseSize * (1 - i / segmentCount * 0.7);
                const colorIndex = Math.floor(i / (segmentCount / colors.length));
                const color = colors[Math.min(colorIndex, colors.length - 1)];
                
                segment.style.cssText = `
                    width: ${size}px;
                    height: ${size}px;
                    --color: ${color};
                    opacity: ${1 - i / segmentCount * 0.7};
                    filter: blur(${i / segmentCount * 2}px);
                    position: absolute;
                    border-radius: 50%;
                    background: radial-gradient(circle at 30% 30%, #fff, var(--color));
                    box-shadow: 0 0 20px var(--color);
                `;

                // ä¸ºç¬¬ä¸€ä¸ªèŠ‚æ®µï¼ˆå¤´éƒ¨ï¼‰æ·»åŠ çœ¼ç›
                if (i === 0) {
                    // å·¦çœ¼
                    const leftEye = document.createElement('div');
                    leftEye.style.cssText = `
                        position: absolute;
                        width: 4px;
                        height: 4px;
                        background: #000;
                        border-radius: 50%;
                        top: 25%;
                        left: 25%;
                        box-shadow: 0 0 2px #fff;
                    `;
                    segment.appendChild(leftEye);

                    // å³çœ¼
                    const rightEye = document.createElement('div');
                    rightEye.style.cssText = `
                        position: absolute;
                        width: 4px;
                        height: 4px;
                        background: #000;
                        border-radius: 50%;
                        top: 25%;
                        right: 25%;
                        box-shadow: 0 0 2px #fff;
                    `;
                    segment.appendChild(rightEye);
                }
                
                snake.appendChild(segment);
                segments.push({
                    element: segment,
                    x: e.clientX,
                    y: e.clientY,
                    targetX: e.clientX,
                    targetY: e.clientY,
                    eyes: i === 0 ? {
                        left: leftEye,
                        right: rightEye
                    } : null
                });
            }

            let prevTime = performance.now();
            let isActive = true;

            function animate(currentTime) {
                if (!isActive) return;

                const deltaTime = (currentTime - prevTime) / 1000;
                prevTime = currentTime;

                segments[0].targetX = e.clientX;
                segments[0].targetY = e.clientY;

                segments.forEach((segment, index) => {
                    if (index === 0) {
                        segment.x += (segment.targetX - segment.x) * 15 * deltaTime;
                        segment.y += (segment.targetY - segment.y) * 15 * deltaTime;
                        
                        // æ›´æ–°çœ¼ç›çš„æœå‘
                        if (segment.eyes) {
                            const dx = segment.targetX - segment.x;
                            const dy = segment.targetY - segment.y;
                            const angle = Math.atan2(dy, dx);
                            const eyeOffset = 2;
                            
                            segment.eyes.left.style.transform = `translate(${Math.cos(angle) * eyeOffset}px, ${Math.sin(angle) * eyeOffset}px)`;
                            segment.eyes.right.style.transform = `translate(${Math.cos(angle) * eyeOffset}px, ${Math.sin(angle) * eyeOffset}px)`;
                        }
                    } else {
                        const prev = segments[index - 1];
                        const spring = 12 - index * 0.3;
                        
                        segment.targetX = prev.x;
                        segment.targetY = prev.y;
                        
                        segment.x += (segment.targetX - segment.x) * spring * deltaTime;
                        segment.y += (segment.targetY - segment.y) * spring * deltaTime;
                    }

                    const wiggle = Math.sin(currentTime * 0.01 + index * 0.5) * (index * 0.5);
                    const x = segment.x + wiggle;
                    const y = segment.y;

                    segment.element.style.transform = `translate(${x}px, ${y}px)`;
                });

                requestAnimationFrame(animate);
            }

            requestAnimationFrame(animate);

            return () => {
                isActive = false;
                snake.remove();
            };
        }

        // ä¿®æ”¹é¼ æ ‡ç§»åŠ¨äº‹ä»¶å¤„ç†
        let currentSnake = null;
        document.addEventListener('mousemove', (e) => {
            if (!currentSnake) {
                currentSnake = createSnakeTrail(e);
            }
            e = {
                clientX: e.clientX,
                clientY: e.clientY
            };
        });

        // å½“é¼ æ ‡ç¦»å¼€é¡µé¢æ—¶æ¸…é™¤è›‡
        document.addEventListener('mouseleave', () => {
            if (currentSnake) {
                currentSnake();
                currentSnake = null;
            }
        });
    </script>
</body>
<!-- å°é™†çœŸå¯çˆ±å˜»å˜»(*^â–½^*) -->
</html>
